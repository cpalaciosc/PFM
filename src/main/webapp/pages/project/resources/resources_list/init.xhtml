<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
	
	<div class="row persons_form">
		<div class="col-sm-offset-2 col-sm-2">
			<p:outputLabel for="input_init" value="{{inicioNumOfProposalPeople|number:2}}"
				styleClass="label_height" />
		</div>
		<div class="col-sm-2">
			<p:inputText id="input_init"
				ng-model="inicioNumberOfAssignedPeople"
				required="true" />
		</div>
		<div class="col-sm-offset-2 col-sm-4">
			<button ng-click="addEmployeeInit()" type="button" class="btn btn-primary add_employee">Agregar empleado seleccionado</button>
		</div>
    </div>
		<fieldset>
		<table class="table table-condensed">
			<tr>
				<th class="ui-outputlabel ui-widget"></th>
				<th class="ui-outputlabel ui-widget">Teorico Relativo</th>
				<th class="ui-outputlabel ui-widget">Teorico absoluto</th>
				<th class="ui-outputlabel ui-widget">Diferencia Absoluta</th>
				<th class="ui-outputlabel ui-widget">Diferencia Relativa</th>
				<th class="ui-outputlabel ui-widget">Propuesta</th>
				<th class="ui-outputlabel ui-widget">Diferencia Propuesta</th>
			</tr>				
			<tr>
				<td>Gestión Proyecto</td>
				<td><span class="percentaje">{{inicioProjectManagementTheoricalRelative()}}</span></td>
				<td>{{inicioProjectManagementTheoricalAbsolute()|number:2}}</td>
				<td>{{inicioProjectManagementAbsoluteDifference()|number:2}}</td>
				<td><span class="percentaje">{{inicioProjectManagementRelativeDifference()|number:2}}</span></td>
				<td>{{inicioProjectManagementProposal()|number:2}}</td>
				<td>{{inicioProjectManagementProposalDiff()|number:2}}</td>
			</tr>
			<tr>
				<td>Requisitos</td>
				<td><span class="percentaje">{{inicioRequirementsTheoricalRelative()}}</span></td>
				<td>{{inicioRequirementsTheoricalAbsolute()|number:2}}</td>
				<td>{{inicioRequirementsAbsoluteDifference()|number:2}}</td>
				<td><span class="percentaje">{{inicioRequirementsRelativeDifference()|number:2}}</span></td>
				<td>{{inicioRequirementsProposal()|number:2}}</td>
				<td>{{inicioRequirementsProposalDiff()|number:2}}</td>
			</tr>
			<tr>
				<td>Analisis/Diseño</td>
				<td><span class="percentaje">{{inicioAnalysisDesignTheoricalRelative()}}</span></td>
				<td>{{inicioAnalysisDesignTheoricalAbsolute()|number:2}}</td>
				<td>{{inicioAnalysisDesignAbsoluteDifference()|number:2}}</td>
				<td><span class="percentaje">{{inicioAnalysisDesignRelativeDifference()|number:2}}</span></td>
				<td>{{inicioAnalysisDesignProposal()|number:2}}</td>
				<td>{{inicioAnalysisDesignProposalDiff()|number:2}}</td>
			</tr>
			<tr>
				<td>Implementación</td>
				<td><span class="percentaje">{{inicioImplementationTheoricalRelative()}}</span></td>
				<td>{{inicioImplementationTheoricalAbsolute()|number:2}}</td>
				<td>{{inicioImplementationAbsoluteDifference()|number:2}}</td>
				<td><span class="percentaje">{{inicioImplementationRelativeDifference()|number:2}}</span></td>
				<td>{{inicioImplementationProposal()|number:2}}</td>
				<td>{{inicioImplementationProposalDiff()|number:2}}</td>
			</tr>
			<tr>
				<td>Pruebas</td>
				<td><span class="percentaje">{{inicioTestsTheoricalRelative()}}</span></td>
				<td>{{inicioTestsTheoricalAbsolute()|number:2}}</td>
				<td>{{inicioTestsAbsoluteDifference()|number:2}}</td>
				<td><span class="percentaje">{{inicioTestsRelativeDifference()|number:2}}</span></td>
				<td>{{inicioTestsProposal()|number:2}}</td>
				<td>{{inicioTestsProposalDiff()|number:2}}</td>
			</tr>
			<tr>
				<td>Despliegues</td>
				<td><span class="percentaje">{{inicioDeployTheoricalRelative()}}</span></td>
				<td>{{inicioDeployTheoricalAbsolute()|number:2}}</td>
				<td>{{inicioDeployAbsoluteDifference()|number:2}}</td>
				<td><span class="percentaje">{{inicioDeployRelativeDifference()|number:2}}</span></td>
				<td>{{inicioDeployProposal()|number:2}}</td>
				<td>{{inicioDeployProposalDiff()|number:2}}</td>
			</tr>
			<tr>
				<td>Control de Versiones</td>
				<td><span class="percentaje">{{inicioEnviromentTheoricalRelative()}}</span></td>
				<td>{{inicioEnviromentTheoricalAbsolute()|number:2}}</td>
				<td>{{inicioEnviromentAbsoluteDifference()|number:2}}</td>
				<td><span class="percentaje">{{inicioEnviromentRelativeDifference()|number:2}}</span></td>
				<td>{{inicioEnviromentProposal()|number:2}}</td>
				<td>{{inicioEnviromentProposalDiff()|number:2}}</td>
			</tr>
			<tr>
				<td>Totales</td>
				<td><span class="percentaje">{{inicioTotalTheoricalRelative()}}</span></td>
				<td>{{inicioTotalTheoricalAbsolute()|number:2}}</td>
				<td>{{inicioTotalAbsoluteDifference()|number:2}}</td>
				<td><span class="percentaje">{{inicioTotalRelativeDifference()|number:2}}</span></td>
				<td>{{inicioTotalProposal()|number:2}}</td>
				<td>{{inicioTotalProposalDiff()|number:2}}</td>
			</tr>
			
		</table>
		</fieldset>	
		<fieldset>
		<table class="table table-condensed" ng-if="initEmployee.length > 0">
			<tr>
				<th class="ui-outputlabel ui-widget text-center">Nombre</th>
				<th class="ui-outputlabel ui-widget text-center">Gestion Proyecto</th>
				<th class="ui-outputlabel ui-widget text-center">Requisitos</th>
				<th class="ui-outputlabel ui-widget text-center">Analisis y Diseño</th>
				<th class="ui-outputlabel ui-widget text-center">Implementación</th>
				<th class="ui-outputlabel ui-widget text-center">Pruebas</th>
				<th class="ui-outputlabel ui-widget text-center">Despliegue</th>
				<th class="ui-outputlabel ui-widget text-center">Control de versiones</th>
				<th class="ui-outputlabel ui-widget text-center">Disponibilidad</th>
				<th class="ui-outputlabel ui-widget text-center">Coste</th>
				<th class="ui-outputlabel ui-widget text-center">Acciones</th>
			</tr>
			<tr ng-repeat="employeeResource in initEmployee">
				
				<td class="text-center">
					<div class="col-xs-12">
						{{employeeResource.employee.name}}
					</div>	
				</td>
					<td class="text-center">
						<div class="col-xs-12">
						<p:outputLabel for="obj1" value=""/>
						<p:inputText ng-blur="validateProjectManagementHours(employeeResource, inicioAvailableEmployeeHours)" style="width:35px;" required="false" id="obj1" 
							value="{{employeeResource.projectManagementHours}}"
							 />
						</div>	 
					</td>
				
					<td class="text-center">
						<div class="col-xs-12">
						<p:outputLabel for="obj2" value=""/>
						<p:inputText ng-blur="validateRequirementsHours(employeeResource, inicioAvailableEmployeeHours)" style="width:35px;" required="false" id="obj2" 
							value="{{employeeResource.requirementsHours}}"
							 />
						</div>	 
					</td>
					<td class="text-center">
						<div class="col-xs-12">
							<p:outputLabel for="obj3" value=""/>
							<p:inputText ng-blur="validateAnalysisDesignHours(employeeResource, inicioAvailableEmployeeHours)" style="width:35px;" required="false" id="obj3" 
								value="{{employeeResource.analysisDesignHours}}"
								 />
						</div>	 
					</td>
					<td class="text-center">
						<div class="col-xs-12">
							<p:outputLabel for="obj4" value=""/>
							<p:inputText ng-blur="validateImplementationHours(employeeResource, inicioAvailableEmployeeHours)" style="width:35px;" required="false" id="obj4" 
								value="{{employeeResource.implementationHours}}"
								 />
						</div>	 
					</td>
				
					<td class="text-center">
						<div class="col-xs-12">
							<p:outputLabel for="obj5" value=""/>
							<p:inputText ng-blur="validateTestHours(employeeResource, inicioAvailableEmployeeHours)" style="width:100%;" required="false" id="obj5" 
								value="{{employeeResource.testsHours}}"
								 />
						</div>
					</td>
					<td class="text-center">
						<div class="col-xs-12">
							<p:outputLabel for="obj6" value=""/>
							<p:inputText ng-blur="validateDeployHours(employeeResource, inicioAvailableEmployeeHours)" style="width:35px;" required="false" id="obj6" 
								value="{{employeeResource.deployHours}}"
								 />
						</div>	 
					</td>
				
					<td class="text-center">
						<div class="col-xs-12">
							<p:outputLabel for="obj7" value=""/>
							<p:inputText ng-blur="validateEnvionmentHours(employeeResource, inicioAvailableEmployeeHours)" style="width:35px;" required="false" id="obj7" 
								value="{{employeeResource.environmentHours}}"
								 />
						</div>	 
					</td>	
					<td class="text-center">{{assignHours(employeeResource)}}/{{employeeResource.employee.availableEmployeeHours}}</td>
					<td class="text-center">0/0</td>
					<td class="text-center">
						<div class="col-xs-12">
							<span ng-click="deleteEmployee(employeeResource, 'init')" class="glyphicon glyphicon-remove" aria-hidden="true"/>
						</div>	 
					</td>	
						
			</tr>	
			<tr>
				<td class="text-center">Totales</td>
				<td class="text-center">{{initProjectManagementHoursTotal()}}</td>
				<td class="text-center">{{initRequirementsHoursTotal()}}</td>
				<td class="text-center">{{initAnalysisDesignHoursTotal()}}</td>
				<td class="text-center">{{initImplementationHoursTotal()}}</td>
				<td class="text-center">{{initTestsHoursTotal()}}</td>
				<td class="text-center">{{initDeployHoursTotal()}}</td>
				<td class="text-center">{{initEnvironmentHoursTotal()}}</td>
				<td class="text-center"></td>
				<td class="text-center"></td>
				<td class="text-center"></td>
			</tr>
		</table>
		</fieldset>		
</ui:composition>	